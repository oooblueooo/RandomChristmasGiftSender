<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>åœ£è¯ç¤¼ç‰©éšæœºæŠ½å–å™¨</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #1a472a 0%, #0d2818 100%);
            color: #fff;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px;
            overflow-x: hidden;
        }

        .container {
            max-width: 800px;
            width: 100%;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.2);
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .container::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255, 255, 255, 0.1) 1px, transparent 1px);
            background-size: 20px 20px;
            animation: snowfall 20s linear infinite;
            z-index: -1;
        }

        @keyframes snowfall {
            0% {
                transform: translateY(0) rotate(0deg);
            }

            100% {
                transform: translateY(20px) rotate(5deg);
            }
        }

        h1 {
            font-size: 2.8rem;
            margin-bottom: 10px;
            color: #ffdd40;
            text-shadow: 0 0 10px rgba(255, 221, 64, 0.5);
            position: relative;
        }

        h1::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 150px;
            height: 3px;
            background: linear-gradient(90deg, transparent, #ffdd40, transparent);
        }

        .subtitle {
            font-size: 1.2rem;
            margin-bottom: 30px;
            color: #c8e6c9;
        }

        .gift-box {
            width: 200px;
            height: 200px;
            margin: 30px auto;
            position: relative;
            cursor: pointer;
            transition: transform 0.5s;
        }

        .gift-box:hover {
            transform: scale(1.05);
        }

        .box {
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, #d32f2f, #f44336);
            border-radius: 15px;
            position: relative;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.5s;
        }

        .box.open {
            transform: scale(0.9);
            opacity: 0.8;
        }

        .ribbon {
            position: absolute;
            width: 100%;
            height: 40px;
            background: #4caf50;
            top: -20px;
            border-radius: 5px;
            box-shadow: 0 5px 10px rgba(0, 0, 0, 0.2);
        }

        .ribbon::before,
        .ribbon::after {
            content: '';
            position: absolute;
            width: 0;
            height: 0;
            border-left: 30px solid transparent;
            border-right: 30px solid transparent;
            border-bottom: 20px solid #388e3c;
        }

        .ribbon::before {
            top: 20px;
            left: -30px;
        }

        .ribbon::after {
            top: 20px;
            right: -30px;
        }

        .bow {
            position: absolute;
            width: 60px;
            height: 60px;
            background: #ffeb3b;
            border-radius: 50%;
            top: -40px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 2;
            box-shadow: 0 5px 10px rgba(0, 0, 0, 0.2);
        }

        .bow::before,
        .bow::after {
            content: '';
            position: absolute;
            width: 50px;
            height: 50px;
            background: #ffeb3b;
            border-radius: 50%;
            top: 10px;
        }

        .bow::before {
            left: -30px;
        }

        .bow::after {
            right: -30px;
        }

        .gift-content {
            font-size: 3.5rem;
            opacity: 0;
            transition: opacity 0.5s;
            color: #ffdd40;
            text-shadow: 0 0 15px rgba(255, 221, 64, 0.7);
        }

        .gift-content.show {
            opacity: 1;
        }

        .gift-name {
            font-size: 2.2rem;
            margin: 25px 0;
            min-height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(0, 0, 0, 0.2);
            padding: 15px;
            border-radius: 15px;
            border: 2px dashed #4caf50;
            color: #ffdd40;
        }

        .gift-description {
            font-size: 1.1rem;
            margin-bottom: 30px;
            color: #e0e0e0;
            line-height: 1.6;
            background: rgba(0, 0, 0, 0.2);
            padding: 15px;
            border-radius: 10px;
        }

        .buttons {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        .btn {
            padding: 15px 35px;
            font-size: 1.2rem;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 600;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .btn-primary {
            background: linear-gradient(45deg, #ff5722, #ff9800);
            color: white;
        }

        .btn-secondary {
            background: linear-gradient(45deg, #2196f3, #03a9f4);
            color: white;
        }

        .btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
        }

        .btn:active {
            transform: translateY(0);
        }

        .counter {
            margin-top: 25px;
            font-size: 1.1rem;
            color: #c8e6c9;
            background: rgba(0, 0, 0, 0.2);
            padding: 10px 20px;
            border-radius: 50px;
            display: inline-block;
        }

        .message {
            margin-top: 20px;
            font-size: 1.1rem;
            color: #ffcc80;
            min-height: 30px;
        }

        .snowflake {
            position: absolute;
            background: white;
            border-radius: 50%;
            opacity: 0.8;
            pointer-events: none;
        }

        .history {
            margin-top: 30px;
            width: 100%;
            max-width: 600px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 20px;
            text-align: left;
        }

        .history h3 {
            color: #ffdd40;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .history-list {
            max-height: 150px;
            overflow-y: auto;
            padding-right: 10px;
        }

        .history-item {
            padding: 8px 12px;
            margin-bottom: 8px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 8px;
            border-left: 4px solid #4caf50;
        }

        footer {
            margin-top: 30px;
            color: #c8e6c9;
            font-size: 0.9rem;
            text-align: center;
        }

        @media (max-width: 600px) {
            .container {
                padding: 20px;
            }

            h1 {
                font-size: 2rem;
            }

            .gift-box {
                width: 150px;
                height: 150px;
            }

            .gift-name {
                font-size: 1.7rem;
                min-height: 70px;
            }

            .btn {
                padding: 12px 25px;
                font-size: 1rem;
            }

            .buttons {
                flex-direction: column;
                align-items: center;
            }
        }
    </style>
</head>

<body>
    <div class="container">
        <h1><i class="fas fa-gift"></i> åœ£è¯ç¤¼ç‰©æŠ½å–å™¨</h1>
        <p class="subtitle">ç‚¹å‡»ç¤¼ç‰©ç›’éšæœºæŠ½å–ä¸€ä»½åœ£è¯ç¤¼ç‰©ï¼Œå¦‚æœä¸æ»¡æ„å¯ä»¥é‡æ–°æŠ½å–ï¼</p>

        <div class="gift-box" id="giftBox">
            <div class="ribbon"></div>
            <div class="bow"></div>
            <div class="box" id="box">
                <div class="gift-content" id="giftIcon">?</div>
            </div>
        </div>

        <div class="gift-name" id="giftName">ç­‰å¾…æŠ½å–ç¤¼ç‰©...</div>
        <div class="gift-description" id="giftDescription">ç‚¹å‡»ä¸Šé¢çš„ç¤¼ç‰©ç›’æ¥éšæœºæŠ½å–ä¸€ä»½åœ£è¯ç¤¼ç‰©ï¼Œç¥ä½ å¥½è¿ï¼</div>

        <div class="buttons">
            <button class="btn btn-primary" id="drawBtn">
                <i class="fas fa-random"></i> æŠ½å–ç¤¼ç‰©
            </button>
            <button class="btn btn-secondary" id="redrawBtn" disabled>
                <i class="fas fa-redo"></i> é‡æ–°æŠ½å–
            </button>
        </div>

        <div class="counter">
            å·²æŠ½å–æ¬¡æ•°: <span id="drawCount">0</span>
        </div>

        <div class="message" id="message"></div>
    </div>

    <div class="history">
        <h3><i class="fas fa-history"></i> æŠ½å–å†å²</h3>
        <div class="history-list" id="historyList">
            <!-- å†å²è®°å½•å°†åœ¨è¿™é‡Œæ˜¾ç¤º -->
        </div>
    </div>

    <footer>
        <p>ç¥ä½ åœ£è¯å¿«ä¹ï¼æ„¿ä½ æ”¶åˆ°çš„ç¤¼ç‰©å¸¦ç»™ä½ æƒŠå–œå’Œå¿«ä¹ï¼</p>
        <p>Â© 2023 åœ£è¯ç¤¼ç‰©æŠ½å–å™¨ | è®¾è®¡ï¼šåœ£è¯ç²¾çµ</p>
    </footer>

    <script>
        // ç¤¼ç‰©æ•°æ®
        const gifts = [
            {
                name: "åœ£è¯æš–å¿ƒå›´å·¾",
                description: "æ‰‹å·¥ç¼–ç»‡çš„çº¢è‰²åœ£è¯å›´å·¾ï¼Œå¸¦æœ‰é›ªèŠ±å›¾æ¡ˆï¼Œæ¸©æš–æ•´ä¸ªå†¬å¤©ã€‚",
                icon: "ğŸ§£"
            },
            {
                name: "åœ£è¯å§œé¥¼å±‹å¥—è£…",
                description: "åŒ…å«åˆ¶ä½œå§œé¥¼å±‹çš„æ‰€æœ‰ææ–™ï¼Œä¸å®¶äººä¸€èµ·äº«å—DIYçš„ä¹è¶£ã€‚",
                icon: "ğŸª"
            },
            {
                name: "é™é‡ç‰ˆåœ£è¯å·§å…‹åŠ›",
                description: "ç‘å£«è¿›å£åœ£è¯ä¸»é¢˜å·§å…‹åŠ›ï¼Œæ¯é¢—éƒ½æœ‰ç‹¬ç‰¹çš„åœ£è¯é€ å‹ã€‚",
                icon: "ğŸ«"
            },
            {
                name: "åœ£è¯éŸ³ä¹ç›’",
                description: "æ’­æ”¾ã€Šé“ƒå„¿å“å®å½“ã€‹çš„ç²¾è‡´éŸ³ä¹ç›’ï¼Œå†…éƒ¨æœ‰æ—‹è½¬çš„åœ£è¯è€äººã€‚",
                icon: "ğŸµ"
            },
            {
                name: "åœ£è¯ä¸»é¢˜é©¬å…‹æ¯",
                description: "é™¶ç“·é©¬å…‹æ¯ï¼Œæ¯èº«å°æœ‰å¯çˆ±çš„åœ£è¯å›¾æ¡ˆï¼Œå€’å…¥çƒ­æ°´ä¼šå˜è‰²ã€‚",
                icon: "â˜•"
            },
            {
                name: "åœ£è¯è¢œç¤¼åŒ…",
                description: "å†…å«5åŒä¸åŒæ¬¾å¼çš„åœ£è¯è¢œï¼Œæ¯åŒéƒ½æœ‰ç‹¬ç‰¹çš„åœ£è¯å…ƒç´ ã€‚",
                icon: "ğŸ§¦"
            },
            {
                name: "åœ£è¯æ ‘è£…é¥°å¥—è£…",
                description: "åŒ…å«å„ç§ç²¾ç¾çš„åœ£è¯æ ‘æŒ‚é¥°ã€å½©ç¯å’Œæ ‘é¡¶æ˜Ÿã€‚",
                icon: "ğŸ„"
            },
            {
                name: "åœ£è¯è€äººç©å¶",
                description: "ä¼šå”±æ­Œçš„åœ£è¯è€äººç©å¶ï¼ŒæŒ‰ä¸‹æŒ‰é’®ä¼šæ’­æ”¾åœ£è¯æ­Œæ›²ã€‚",
                icon: "ğŸ…"
            },
            {
                name: "åœ£è¯ä¸»é¢˜æ‹¼å›¾",
                description: "1000ç‰‡åœ£è¯å¤œæ™¯æ‹¼å›¾ï¼Œå®Œæˆåå¯ä»¥è£…è£±èµ·æ¥è£…é¥°æˆ¿é—´ã€‚",
                icon: "ğŸ§©"
            },
            {
                name: "åœ£è¯é¦™è–°èœ¡çƒ›",
                description: "æ¾æœ¨å’Œè‚‰æ¡‚é¦™å‘³çš„é¦™è–°èœ¡çƒ›ï¼Œä¸ºæˆ¿é—´å¸¦æ¥èŠ‚æ—¥æ°”æ°›ã€‚",
                icon: "ğŸ•¯ï¸"
            },
            {
                name: "åœ£è¯ç‰¹è°ƒå’–å•¡è±†",
                description: "å¸¦æœ‰æ¦›å­å’Œé¦™è‰é£å‘³çš„åœ£è¯é™å®šå’–å•¡è±†ï¼Œæ¥è‡ªå“¥ä¼¦æ¯”äºšã€‚",
                icon: "ğŸ«˜"
            },
            {
                name: "åœ£è¯æ¯›è¡£",
                description: "å¸¦æœ‰LEDç¯é¥°çš„åœ£è¯æ¯›è¡£ï¼ŒæŒ‰ä¸‹å¼€å…³ä¼šé—ªçƒå½©è‰²ç¯å…‰ã€‚",
                icon: "ğŸ§¥"
            }
        ];

        // DOMå…ƒç´ 
        const giftBox = document.getElementById('giftBox');
        const box = document.getElementById('box');
        const giftIcon = document.getElementById('giftIcon');
        const giftName = document.getElementById('giftName');
        const giftDescription = document.getElementById('giftDescription');
        const drawBtn = document.getElementById('drawBtn');
        const redrawBtn = document.getElementById('redrawBtn');
        const drawCountElement = document.getElementById('drawCount');
        const messageElement = document.getElementById('message');
        const historyList = document.getElementById('historyList');

        // çŠ¶æ€å˜é‡
        let drawCount = 0;
        let currentGift = null;
        let isAnimating = false;
        let history = [];

        // åˆå§‹åŒ–
        function init() {
            drawBtn.addEventListener('click', drawGift);
            redrawBtn.addEventListener('click', drawGift);
            giftBox.addEventListener('click', drawGift);

            // åˆ›å»ºé›ªèŠ±
            createSnowflakes();
        }

        // æŠ½å–ç¤¼ç‰©
        function drawGift() {
            if (isAnimating) return;

            isAnimating = true;

            // é‡ç½®UIçŠ¶æ€
            box.classList.remove('open');
            giftIcon.classList.remove('show');
            giftIcon.textContent = '?';
            giftName.textContent = 'æŠ½å–ä¸­...';
            giftDescription.textContent = 'åœ£è¯è€äººæ­£åœ¨ä¸ºä½ å‡†å¤‡ç¤¼ç‰©ï¼Œè¯·ç¨å€™...';
            messageElement.textContent = '';
            redrawBtn.disabled = true;

            // å¼€å§‹åŠ¨ç”»
            setTimeout(() => {
                box.classList.add('open');

                setTimeout(() => {
                    // éšæœºé€‰æ‹©ç¤¼ç‰©
                    let randomIndex;
                    do {
                        randomIndex = Math.floor(Math.random() * gifts.length);
                    } while (gifts[randomIndex] === currentGift && gifts.length > 1);

                    currentGift = gifts[randomIndex];

                    // æ›´æ–°UI
                    giftIcon.textContent = currentGift.icon;
                    giftIcon.classList.add('show');

                    setTimeout(() => {
                        giftName.textContent = currentGift.name;
                        giftDescription.textContent = currentGift.description;

                        // å¢åŠ æŠ½å–æ¬¡æ•°
                        drawCount++;
                        drawCountElement.textContent = drawCount;

                        // æ·»åŠ åˆ°å†å²è®°å½•
                        addToHistory(currentGift);

                        // æ˜¾ç¤ºæ¶ˆæ¯
                        const messages = [
                            "åœ£è¯å¿«ä¹ï¼å¸Œæœ›ä½ å–œæ¬¢è¿™ä»½ç¤¼ç‰©ï¼",
                            "è¿™ä»½ç¤¼ç‰©å……æ»¡äº†åœ£è¯çš„ç¥ç¦ï¼",
                            "åœ£è¯è€äººç‰¹æ„ä¸ºä½ æŒ‘é€‰äº†è¿™ä»½ç¤¼ç‰©ï¼",
                            "æ„¿è¿™ä»½ç¤¼ç‰©å¸¦ç»™ä½ èŠ‚æ—¥çš„å–œæ‚¦ï¼",
                            "ç¥ä½ æœ‰ä¸ªç¾å¥½çš„åœ£è¯å­£ï¼"
                        ];
                        const randomMessage = messages[Math.floor(Math.random() * messages.length)];
                        messageElement.textContent = randomMessage;

                        // å¯ç”¨é‡æ–°æŠ½å–æŒ‰é’®
                        redrawBtn.disabled = false;

                        isAnimating = false;
                    }, 500);
                }, 800);
            }, 100);
        }

        // æ·»åŠ åˆ°å†å²è®°å½•
        function addToHistory(gift) {
            const now = new Date();
            const timeString = `${now.getHours().toString().padStart(2, '0')}:${now.getMinutes().toString().padStart(2, '0')}:${now.getSeconds().toString().padStart(2, '0')}`;

            history.unshift({
                gift: gift,
                time: timeString
            });

            // åªä¿ç•™æœ€è¿‘5æ¡è®°å½•
            if (history.length > 5) {
                history.pop();
            }

            // æ›´æ–°å†å²è®°å½•æ˜¾ç¤º
            updateHistoryDisplay();
        }

        // æ›´æ–°å†å²è®°å½•æ˜¾ç¤º
        function updateHistoryDisplay() {
            historyList.innerHTML = '';

            if (history.length === 0) {
                historyList.innerHTML = '<div class="history-item">æš‚æ— æŠ½å–å†å²</div>';
                return;
            }

            history.forEach(item => {
                const historyItem = document.createElement('div');
                historyItem.className = 'history-item';
                historyItem.innerHTML = `
                    <strong>${item.gift.name}</strong> (${item.gift.icon})
                    <span style="float: right; color: #ffcc80; font-size: 0.9rem;">${item.time}</span>
                `;
                historyList.appendChild(historyItem);
            });
        }

        // åˆ›å»ºé›ªèŠ±æ•ˆæœ
        function createSnowflakes() {
            const snowflakeCount = 50;

            for (let i = 0; i < snowflakeCount; i++) {
                createSnowflake();
            }
        }

        function createSnowflake() {
            const snowflake = document.createElement('div');
            snowflake.className = 'snowflake';

            // éšæœºå¤§å°
            const size = Math.random() * 10 + 5;
            snowflake.style.width = `${size}px`;
            snowflake.style.height = `${size}px`;

            // éšæœºä½ç½®
            snowflake.style.left = `${Math.random() * 100}vw`;
            snowflake.style.top = `-20px`;

            // éšæœºé€æ˜åº¦
            snowflake.style.opacity = Math.random() * 0.5 + 0.3;

            document.body.appendChild(snowflake);

            // åŠ¨ç”»
            const duration = Math.random() * 10 + 10;
            const horizontalMovement = Math.random() * 100 - 50;

            snowflake.animate([
                { transform: `translate(0, 0) rotate(0deg)` },
                { transform: `translate(${horizontalMovement}px, 100vh) rotate(${Math.random() * 360}deg)` }
            ], {
                duration: duration * 1000,
                easing: 'linear'
            });

            // åŠ¨ç”»ç»“æŸåç§»é™¤å¹¶åˆ›å»ºæ–°çš„é›ªèŠ±
            setTimeout(() => {
                snowflake.remove();
                createSnowflake();
            }, duration * 1000);
        }

        // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
        window.addEventListener('DOMContentLoaded', init);

        // åˆå§‹åŒ–å†å²è®°å½•æ˜¾ç¤º
        updateHistoryDisplay();
    </script>
</body>

</html>